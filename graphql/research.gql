query AllResearches($first: IntType = 100, $skip: IntType = 0) {
	allResearches(first: $first, skip: $skip, orderBy: _firstPublishedAt_DESC) {
		...ResearchFragment
	}
	_allResearchesMeta {
		count
	}
	allResearchCategories(orderBy: title_ASC) {
		...ResearchCategoryFragment
	}
	_allResearchCategoriesMeta {
		count
	}
}

query Research($slug: String!) {
	research(filter: { slug: { eq: $slug } }) {
		...ResearchFragment
	}
}

query ResearchAbout {
	researchAbout {
		id
		intro {
			blocks
			links
			value
		}
		contentWrapper {
			id
			content {
				__typename
				blocks {
					__typename
					... on ButtonRecord {
						id
						text
						url
					}
					... on ExpandableListRecord {
						id
						item {
							__typename
							... on ExpandableListItemRecord {
								id
								title
								text {
									blocks
									links
									value
								}
							}
						}
					}
					... on ImageRecord {
						id
						image {
							...ImageFragment
						}
					}
					... on VideoExternalRecord {
						id
						caption
						video {
							height
							width
							url
							provider
							providerUid
							title
							thumbnailUrl
						}
					}
					... on VideoInternalRecord {
						id
						file {
							...VideoFragment
						}
						caption
					}
				}
				links
				value
			}
		}
		title
	}
}

fragment ResearchFragment on ResearchRecord {
	id
	title
	slug
	category {
		...ResearchCategoryFragment
	}
	file {
		...MediaFragment
	}
	text {
		blocks
		links
		value
	}
	url
	_firstPublishedAt
}

fragment ResearchCategoryFragment on ResearchCategoryRecord {
	id
	title
	slug
	plural
}
